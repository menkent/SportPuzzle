

<ng-container *ngFor="let complex of programComplexes; let last = last">
  <mat-expansion-panel>

    <mat-expansion-panel-header>
      <mat-panel-title>
        {{complex.name}}
      </mat-panel-title>
      <mat-panel-description>
      </mat-panel-description>
    </mat-expansion-panel-header>
    {{ complex.comment }}
    <mat-list role="list">
        <ng-container *ngFor="let training of complex.protoTrainings; let last = last">
            <mat-list-item 
              (click)="trainingClick(training.id)"
              role="listitem"
            >
            <span matLine style="white-space: normal;"> {{ training.name }} </span>
            <p matLine *ngIf="getLastTrainingDateByProto(training)">
              <span class="sub-header">last: {{ getLastTrainingDateByProto(training) }}</span>
            </p>
            </mat-list-item>
            <mat-divider *ngIf="!last"></mat-divider>
        </ng-container>
    </mat-list>

  </mat-expansion-panel>
  <mat-divider *ngIf="!last"></mat-divider>
</ng-container>

<div class="container" *ngIf="programComplexes.length === 0 && isLoaded">
  <div class="row" >
    <div class="col-12">
      <h2 class="sub-header">
        Программные комплексы отсутствуют. Создайте свой.
      </h2>
    </div>
  </div>

  <div class="row" >
    <div class="col-12 btns">
        <button mat-fab color="basic" class="add-try-btn"
                    (click)="addNewComplex()"
                  >
          <mat-icon>add</mat-icon>
        </button>
    </div>
  </div>
</div>

<div class="container" *ngIf="!isLoaded">
  <div class="row" >
    <div class="col-12">
      <h2 class="sub-header">
        Загрузка ...
      </h2>
    </div>
  </div>
</div>



